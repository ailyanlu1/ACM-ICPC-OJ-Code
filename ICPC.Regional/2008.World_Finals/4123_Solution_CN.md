# 2008 World Finals: Glenbow Museum

一个合法的字符串有如下性质

* 由于多边形外角和是360度，每个R为外角和“贡献”90度，每个O为外角和贡献-90度。所以R肯定比O多四个。
* 不可能存在两个相邻的O。原因：如果有两个相邻的O，那么必定不能形成星形多边形。如图，有两个连续的O，看到R1点的区域位于R1O1的左边（紫色区域），看到R2点的区域位于R2OR的右边（绿色区域），两个区域没有重叠，因此不满足题目要求。 

![Alt text](4123_Img1.jpg "Image 1")

那么问题就转化为：给出r个R，r-4个O，求这些R与O能够组成多少种字符串，使得没有两个O相邻。这时有如下两种情况：

1. 串长为奇数则答案为0。
2. 字符串以R结尾，那么如果有r个R，那么相当于找4个位置放多出来的四个R,其余放OR。方案数为C(r,4)。
3. 字符串以O结尾，那么如果有r个R，字符串的形式必定是xxxxxxRO（因为最后的那个O前面必定是R）。那么相当于找在r-1个位置中找4个放R，其余位置放RO。方案数为C(r-1,4)。 

最终答案就是C(r,4)+C(r-1,4)。 
