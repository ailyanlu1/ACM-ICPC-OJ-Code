# POJ 1830 开关问题

## Summary

有n个开关，每当触动一个开关，有可能会影响其他开关的状态。现在给出开关影响的状态列表，问，所有的开关，能否从一个初始状态，通过一系列变换切 换到另一个状态。若能，给出方案数。

## Solution

这个问题可以转化成一个整数方程组，可以使用高斯消元来解决之。

方程组的系数矩阵是一个方阵。每一个未知数代表该开关是否需要按下，若需要，x=1，若不需要，x=0。一条式子就表示一个开关最终的状 态。例如，对于一个开关：

A1x1+A2x2+...ANxn = S

如果第i个开关的按下会对这个开关影响，那么Ai=1，否则Ai=0。当然，自己按下，也会对自己影响。如果开关的状态和原先一样，那么 S=0，如果不一样则S=1。因为明显，一个开关被影响偶数次，状态不变，影响奇数次，状态改变。

列好方程组后，只需要将其化成三角矩阵，就可以知道这个方程有解还是没解。若方程的自由变元数为M个，那么答案就是2<sup>M</sup>。。 意思是这些自由的开关的状态是可以任意组合的。 
