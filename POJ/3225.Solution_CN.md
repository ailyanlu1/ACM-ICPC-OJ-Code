# PKU Local 2007 (POJ Monthly--2007.04.28): Help with Intervals

## Solution

此题可以用线段树解决.线段树c表示状态.

* c==1,表示该区间取反.
* c==2,表示该区间被设为0
* c==3,表示该区间被设为1 

数组a用于保存最终结果.要解决开闭区间的问题,可以将区间的左端和右端都乘以2.这样就不用考虑区间开与闭.此时,线段树建为点数,例如:
0:端点0
1:区间0-1
2:端点1
3:区间1-2
4:端点2
5:区间2-3
......

通过取反,设0,设1三个操作组合,能够轻易地完成题目要求的运算. 各个操作的设置方法如下:

    U T:将(L,R)设置为1即可.
    I T:将(0,L-1)和(R+1,max)设为0即可
    D T:将(L,R)设置为0即可.
    C T:将(0,max)取反,然后再将(0,L-1)和(R+1,max)设为0即可
    S T:将(L,R)取反即可 
