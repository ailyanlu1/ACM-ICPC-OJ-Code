# SGU 177 Little Queens

## Solution
可以使用平面四叉线段树解决这个问题.四叉线段树是普通线段树的加强版,能够处理二维的平面问题.

这个问题的解决方法有很多,四叉树是通法,但是由于N不是很大,线段树的优势无法体现,因此效率不高,而且编程比较复杂.可以有如下解决方法:

1. 对每一个行都建立一个普通线段树进行处理.实际上是可以逐行统计的,这样就省去了二维线段树的编写.
2. 更简单的方法是:每行都记录一个next数组，next\[i\]意味着i->next\[i\]这一段是已经染过色了。从最后一个染色的矩形开始，依次染色，分别处理每一行，处理过(j，i)后，可以直接跳到(j，next\[i\])，中间的部分不再处理，然后，修改next数组。这样做的复杂度是 O(N^2\*log\*n)，因为后者一般不超过5，所以可以看成常数。
