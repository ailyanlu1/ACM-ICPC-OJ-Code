# 2010 Tokyo: Towns along a Highway

## Solution 

Solution

假设读入的数据按题目给出的顺序存储在数组d之中，可以知道d[0]必定是dist[1,n]，而d[1]只有两种可能：dist[1,n-1]或 dist[2,n]。我们有更加强的结论：假设[1,l]以及[r,n]这两个区间的内城市的坐标已经知道，并且在d数组删去所有已经知道的距离 dist[i,j](i,j都在[1,l]或[r,n]区间内，且i≠j）。此时[l+1,r-1]区间内的城市坐标并不知道，可以认定，此时d数组中最 大的数字d[k]，只有两种可能：d[k]=dist[1,r-1]或者d[k]=dist[l+1,n]。因为这时剩下的未知距离，要么全部小于等于 dist[1,r-1]，要么全部小于等于dist[l+1,n]。

因此，可以按照以下策略进行搜索：搜索函数为dfs(l,r)，表示[l+1,r-1]区间内的城市坐标未知。寻找d数组最大的数字 d[k]，分别尝试把d[k]作为dist[1,r-1]或者dist[l+1,n]，然后求出所有已知距离，从d数组中删去。如果无法删去（找不到）， 那么说明这种尝试不合法。如果合法，那么就继续搜索下去。若d[k]作为dist[1,r-1]，那么下一步进行的就是dfs(l,r-1)。若d[k] 作为dist[l+1,n]，那么下一步进行的就是dfs(l+1,r)。 

以上搜索方法复杂度为O(n2<sup>n</sup>)。
