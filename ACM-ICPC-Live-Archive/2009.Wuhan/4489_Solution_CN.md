# 2009 Wuhan: Gift Hunting Solution
## Summary

商店有n(n<=300)件商品，每个商品都有一个价格和价值，而且有的商品一定要购买。现在有两张购物券，一张价值V1(V1& lt;=500)元，另一张价值V2(V2<=50)元，此外还有一个免费买一样东西的奖励。问，如何能够买这些东西，使价值最大。如果没法买下一 定要购买的商品，则输出-1。

用不完的购物券不能够兑换零钱。
## Solution

购物券购物相当于一个背包问题的模型，可以使用动态规划中类似背包问题的方法解决之。如果不考虑某些商品必须要买，那么就有：

dp[X][Y][b]，表示使用购物券V1中的X元，购物券V2中的Y元，如果b=1就是已经使用了免费奖励，否则就是没有使用时，能够 得到最大的价值。

然后使用类似背包问题的方法解决，对于每个商品，都枚举所有价格，以及方案，然后求出最大价值，复杂度为O(V1*V2*2*n)。

但是考虑了某些物品必须购买，这个模型就有所变化。其实一样是背包问题。使用num[X][Y][b]表示状态为X,Y,b时，购买了多少 个必须购买的商品，由于一定要买下所有的买的商品，那么num肯定越大越好。如果num相同的情况下，才对比并更新dp。 
